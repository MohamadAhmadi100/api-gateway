version: "3"

services:
    web:
        build: nginx
        expose:
          - 80
        ports:
          - 8080:80
          - 4433:443
        depends_on:
          - api
        networks:
          - apinet

    api:
        build: .
        ports:
          - 8000:80
        volumes:
          - /gallery-files:/gallery-files
          - /log-files:/api-gateway

networks:
    apinet:
        driver: bridge



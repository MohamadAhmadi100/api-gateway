version: "3"

services:
    web:
        build: nginx
        ports:
          - 80:80
          - 443:443
        depends_on:
          - api
        networks:
          - apinet


    api:
        build: .
        expose: 
          - 8000
        volumes:
          - /gallery-files:/gallery-files

networks:
    apinet:
        driver: bridge

